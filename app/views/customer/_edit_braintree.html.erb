<div class="js-pp-braintree">
  <%= form_for subscription, :url => pocket_subscription_path, :html => {:autocomplete => "off"} do |f| %>
    <% if subscription.errors.any? %>
      <div id="error_explanation" class="notification notification-danger">
        <h2><%= pluralize(subscription.errors.count, "error") %> prohibited this page from being saved:</h2>

        <ul>
        <% subscription.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <% if flash[:status] %>
    <div class="notification notification-danger">
      <h2><%= pluralize(flash[:status].count, "error") %> prohibited this page from performing a subscription:</h2>
      <ul>
      <% flash[:status].each do |message| %>
        <li>(<%= message.code %>) <%= message.message %></li>
      <% end %>
      </ul>
    </div>
    <% end %>

    <%= render 'form', { :f => f, :subscription => subscription, :stack => stack, :shipping_cost => shipping_cost }%>
  <% end %>
</div>
